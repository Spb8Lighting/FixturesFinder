const electron=require("electron"),config=require("../../config"),remote=electron.remote,ipcRenderer=electron.ipcRenderer,Icon={max:'<svg viewBox="0 0 20 20">\n    <path d="M 1 1 V19 H19 V1 H1 z M19 19 H1 V4 H19 V19 z" />\n</svg>',min:'<svg viewBox="0 0 20 20">\n    <path d="M7 1 V11 H19 V1 H7 z  M19 11 H7 V3 H19 V11 z"/>\n    <path d="M12 12 L12 19 L1 19 L1 9 L6 9 L6 9 L1 9 L1 19 L12 19 L12 19z" />\n    <rect x="1" y="9" width="4.5" height="2" />\n</svg>'},$btn={min:document.getElementById("min-btn"),max:document.getElementById("max-btn"),close:document.getElementById("close-btn")},$aLink=document.querySelectorAll("aside a"),$h1=document.querySelector("h1>span"),$MainContent=document.getElementById("maincontent");$btn.min.addEventListener("click",e=>{e.preventDefault(),remote.getCurrentWindow().minimize()}),$btn.max.addEventListener("click",e=>{e.preventDefault();let window=remote.getCurrentWindow();window.isMaximized()?(window.unmaximize(),$btn.max.innerHTML=Icon.max):(window.maximize(),$btn.max.innerHTML=Icon.min)}),$btn.close.addEventListener("click",e=>{e.preventDefault(),remote.getCurrentWindow().close()}),$aLink.forEach(elem=>{elem.addEventListener("click",e=>{e.preventDefault(),ipcRenderer.send("pageChange",{page:elem.getAttribute("href")}),$aLink.forEach(elem=>{elem.classList.remove("active")}),elem.classList.add("active"),document.activeElement&&document.activeElement.blur()})}),ipcRenderer.on("pageChange",(e,data)=>{$MainContent.innerHTML=data.page,$h1.innerHTML=`Fixtures Finder/${data.PageName} - v${config.Version}`});